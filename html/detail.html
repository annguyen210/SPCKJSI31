<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chi Ti·∫øt Phim</title>
    <link rel="stylesheet" href="../css/main.css" />
  </head>
  <body>
    <header>
      <h1>Chi Ti·∫øt Phim</h1>
      <button id="back-button">Tr·ªü V·ªÅ</button>
    </header>
    <main id="movie-detail"></main>

    <script>
         function getMovieDetails() {
        const params = new URLSearchParams(window.location.search);
        const movie_id = params.get("id");
        // load du lieu tu api
        const options = {
          method: "GET",
          headers: {
            accept: "application/json",
            Authorization:
              "Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3ZmVkZjRhYTJiYWI1MjIxZWE2OTBjNDVjODBhMzc3NSIsIm5iZiI6MTczNjUxNzEyMS41OTAwMDAyLCJzdWIiOiI2NzgxMjYwMTM0YTRlNzVlNDk3YjU1OTMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.B8JzunVnF_Pr2cSKc9qY7p3C2X-ChY-k3md-chsRrKU",
          },
        };

        fetch(
          `https://api.themoviedb.org/3/movie/${movie_id}?language=en-US`,
          options
        )
          .then((res) => res.json())
          .then((movie) => {
            console.log(movie);
            // load thong tin len html
            const movieDetail = document.getElementById("movie-detail");
            movieDetail.innerHTML = `  
            <img src="https://image.tmdb.org/t/p/w500/${movie.backdrop_path}" alt="${movie.title}">  
            <h2>${movie.title}</h2>  
            <p>NƒÉm: ${movie.release_date}</p> 
            <p>L∆∞·ª£t xem: ‚¨ÜÔ∏è 500,000 views</p> 
            <p>ƒê√°nh gi√°: ${movie.vote_average}/ ${movie.vote_count} 
              <span style="color: gold;">${'‚òÖ'.repeat(5)}</span>
            </p>
            <p>Ng√¥n ng·ªØ: Ti·∫øng Anh</p>  
            <img src="https://image.tmdb.org/t/p/w500/${movie.poster_path}" alt="${movie.title}"> 
            <p>T√≥m t·∫Øt: ${movie.overview}</p>  
            <p>Doanh thu: $${movie.budget}</p>  
            <p>M·ª©c ƒë·ªô ph·ªï bi·∫øn: $${movie.popularity}</p>  
            <p>Th·ªùi l∆∞·ª£ng: ${movie.runtime} ph√∫t</p>
            <p><a href="${movie.homepage}" target="_blank">Homepage c·ªßa phim</a></p>  

            <h3>6 b√¨nh lu·∫≠n</h3>
            <ul>
             <p>  @huskytv:    Phim hay ngo√†i mong ƒë·ª£i lu√¥n! Di·ªÖn xu·∫•t c·ªßa d√†n di·ªÖn vi√™n qu√° ƒë·ªânh ü•πüëè</p>
             <p>  @annguyend:  N·ªôi dung l√¥i cu·ªën t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi, kh√¥ng c√≥ ph√∫t n√†o nh√†m ch√°n!</p>
             <p>  @123thoan:   Xem xong v·∫´n c√≤n √°m ·∫£nh m·∫•y ng√†y sau üò± Qu√° xu·∫•t s·∫Øc!</p>
             <p>  @tdung763:   Nh·∫°c phim v√† h√¨nh ·∫£nh ƒë·ªÅu r·∫•t ƒë·∫ßu t∆∞. M√¨nh cho 9/10!</p>
             <p>  @mtpsontung: Phim r·∫•t ƒë√°ng ƒë·ªÉ xem l·∫°i l·∫ßn 2. Ai ch∆∞a xem th√¨ ƒë·ª´ng b·ªè l·ª° nha!</p>
             <p>  @mixigaming: N·ªôi dung ·ªïn, nh∆∞ng ph·∫ßn cu·ªëi h∆°i kh√≥ hi·ªÉu. Ai gi·∫£i th√≠ch gi√∫p v·ªõi? </p>
            </ul>
        `;
          })
          .catch((err) => alert(err));
      }

      document.addEventListener("DOMContentLoaded", getMovieDetails);

      document
        .getElementById("back-button")
        .addEventListener("click", function () {
          // Chuy·ªÉn h∆∞·ªõng v·ªÅ trang index
          window.location.href = "../index.html";
        });
    </script>

    <style>
      button {  
          padding: 10px;  
          background: #D9ACF5; /* M√†u xanh l√° c√¢y */  
          color: #fff;  
          border: none;  
          border-radius: 4px;  
          cursor: pointer;  
          transition: background 0.3s;  
      }  

      button:hover {  
          background: #C780FA; /* M√†u n·ªÅn khi di chu·ªôt qua */  
      }  
    </style>
  </body>
</html>